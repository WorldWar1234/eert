const _0x2a340a=_0x3e88;(function(_0x19f1b0,_0x10f57e){const _0x12d0d1=_0x3e88,_0x167413=_0x19f1b0();while(!![]){try{const _0x3df0ac=parseInt(_0x12d0d1(0x1c6))/0x1*(parseInt(_0x12d0d1(0x1a9))/0x2)+-parseInt(_0x12d0d1(0x1bf))/0x3+-parseInt(_0x12d0d1(0x1a7))/0x4+parseInt(_0x12d0d1(0x1b1))/0x5+-parseInt(_0x12d0d1(0x1c3))/0x6*(-parseInt(_0x12d0d1(0x1b4))/0x7)+-parseInt(_0x12d0d1(0x1c4))/0x8*(-parseInt(_0x12d0d1(0x1bd))/0x9)+-parseInt(_0x12d0d1(0x1cf))/0xa*(parseInt(_0x12d0d1(0x1c1))/0xb);if(_0x3df0ac===_0x10f57e)break;else _0x167413['push'](_0x167413['shift']());}catch(_0x4dd316){_0x167413['push'](_0x167413['shift']());}}}(_0x59d3,0x231c1));const _0x281d6c=(function(){let _0x4c9e9c=!![];return function(_0x2c79e5,_0x2d48e7){const _0x15845a=_0x4c9e9c?function(){const _0x2ba020=_0x3e88;if(_0x2d48e7){const _0x35674e=_0x2d48e7[_0x2ba020(0x19e)](_0x2c79e5,arguments);return _0x2d48e7=null,_0x35674e;}}:function(){};return _0x4c9e9c=![],_0x15845a;};}()),_0x23e6fe=_0x281d6c(this,function(){const _0x3ff8ac=_0x3e88;return _0x23e6fe[_0x3ff8ac(0x1a0)]()[_0x3ff8ac(0x1ad)](_0x3ff8ac(0x1a6))[_0x3ff8ac(0x1a0)]()['constructor'](_0x23e6fe)[_0x3ff8ac(0x1ad)](_0x3ff8ac(0x1a6));});_0x23e6fe();const _0xec730e=(function(){let _0x4a4cad=!![];return function(_0x11d6e0,_0x40a575){const _0x452752=_0x4a4cad?function(){const _0x218f5a=_0x3e88;if(_0x40a575){const _0x509e09=_0x40a575[_0x218f5a(0x19e)](_0x11d6e0,arguments);return _0x40a575=null,_0x509e09;}}:function(){};return _0x4a4cad=![],_0x452752;};}()),_0x3a6329=_0xec730e(this,function(){const _0x3977ea=_0x3e88;let _0x3f7fc3;try{const _0x199413=Function(_0x3977ea(0x1af)+_0x3977ea(0x1c5)+');');_0x3f7fc3=_0x199413();}catch(_0xd1223e){_0x3f7fc3=window;}const _0x3c0f36=_0x3f7fc3[_0x3977ea(0x1c2)]=_0x3f7fc3[_0x3977ea(0x1c2)]||{},_0x26e447=[_0x3977ea(0x1b6),_0x3977ea(0x1a8),_0x3977ea(0x1b9),_0x3977ea(0x1cb),'exception','table',_0x3977ea(0x1a2)];for(let _0x565e97=0x0;_0x565e97<_0x26e447[_0x3977ea(0x1ce)];_0x565e97++){const _0x1c004b=_0xec730e[_0x3977ea(0x1be)][_0x3977ea(0x1cc)]['bind'](_0xec730e),_0x473612=_0x26e447[_0x565e97],_0xf011e3=_0x3c0f36[_0x473612]||_0x1c004b;_0x1c004b[_0x3977ea(0x1b2)]=_0xec730e[_0x3977ea(0x1aa)](_0xec730e),_0x1c004b[_0x3977ea(0x1a0)]=_0xf011e3[_0x3977ea(0x1a0)][_0x3977ea(0x1aa)](_0xf011e3),_0x3c0f36[_0x473612]=_0x1c004b;}});_0x3a6329();import _0x4cc531 from'node-fetch';import _0x46e06d from'lodash';import{generateRandomIP,randomUserAgent}from'./user.js';import{copyHeaders as _0x6c3e83}from'./copyh.js';function _0x3e88(_0x208f6d,_0x345b64){const _0x4a449f=_0x59d3();return _0x3e88=function(_0x3a6329,_0xec730e){_0x3a6329=_0x3a6329-0x19d;let _0x1d6793=_0x4a449f[_0x3a6329];return _0x1d6793;},_0x3e88(_0x208f6d,_0x345b64);}import{compressImg as _0xccd3c1}from'./comp.js';import{bypass as _0x25021e}from'./byp.js';import{redirect as _0x1260e0}from'./rrd.js';import{shouldCompress as _0x217511}from'./scomp.js';const viaHeaders=[_0x2a340a(0x1a4),_0x2a340a(0x1b5),'1.1\x20different-proxy-system.org\x20(DifferentProxy/3.1)',_0x2a340a(0x1ae)];function randomVia(){const _0x103437=_0x2a340a,_0x5e6ec5=Math['floor'](Math[_0x103437(0x1c7)]()*viaHeaders[_0x103437(0x1ce)]);return viaHeaders[_0x5e6ec5];}function _0x59d3(){const _0x132d30=['return\x20(function()\x20','grayscale','47160eKabzs','__proto__','header','67291pGeAYM','1.0\x20another-proxy.net\x20(Proxy/2.0)','log','content-type','dnt','info','buffer','webp','&url=','9KRWHXO','constructor','293289uhDobz','url','11781WfzHII','console','36XbHWoG','932216CcMaoP','{}.constructor(\x22return\x20this\x22)(\x20)','41177wzLTBt','random','get','send','params','error','prototype','originType','length','10ZsaeTp','1we23','referer','headers','entries','pick','apply','query','toString','content-encoding','trace','cookie','1.1\x20example-proxy-service.com\x20(ExampleProxy/1.0)','http://','(((.+)+)+)+$','587516yoDasx','warn','10pzmkzM','bind','join','isArray','search','1.1\x20some-proxy.com\x20(GenericProxy/4.0)'];_0x59d3=function(){return _0x132d30;};return _0x59d3();}export async function processRequest(_0x1dd577,_0x18fb3e){const _0x28958a=_0x2a340a,{url:_0x3120a5,jpeg:_0x247c4c,bw:_0x3d3038,l:_0x522c5f}=_0x1dd577[_0x28958a(0x19f)];if(!_0x3120a5){const _0x5d795e=generateRandomIP(),_0x504900=randomUserAgent(),_0x56efb6={..._0x46e06d[_0x28958a(0x19d)](_0x1dd577['headers'],[_0x28958a(0x1a3),_0x28958a(0x1b8),_0x28958a(0x1d1)]),'x-forwarded-for':_0x5d795e,'user-agent':_0x504900,'via':randomVia()};return Object[_0x28958a(0x1d3)](_0x56efb6)['forEach'](([_0x5ef8d4,_0x50ab68])=>_0x18fb3e[_0x28958a(0x1b3)](_0x5ef8d4,_0x50ab68)),_0x18fb3e[_0x28958a(0x1c9)](_0x28958a(0x1d0));}const _0x389afa=Array[_0x28958a(0x1ac)](_0x3120a5)?_0x3120a5[_0x28958a(0x1ab)](_0x28958a(0x1bc)):_0x3120a5,_0x8851a0=_0x389afa['replace'](/http:\/\/1\.1\.\d\.\d\/bmi\/(https?:\/\/)?/i,_0x28958a(0x1a5));_0x1dd577[_0x28958a(0x1ca)][_0x28958a(0x1c0)]=_0x8851a0,_0x1dd577[_0x28958a(0x1ca)][_0x28958a(0x1bb)]=!_0x247c4c,_0x1dd577[_0x28958a(0x1ca)][_0x28958a(0x1b0)]=_0x3d3038!=='0',_0x1dd577[_0x28958a(0x1ca)]['quality']=parseInt(_0x522c5f,0xa)||0x28;const _0x40d39b=generateRandomIP(),_0x4145ac=randomUserAgent();try{const _0x3517e9=await _0x4cc531(_0x1dd577[_0x28958a(0x1ca)]['url'],{'headers':{..._0x46e06d[_0x28958a(0x19d)](_0x1dd577[_0x28958a(0x1d2)],[_0x28958a(0x1a3),_0x28958a(0x1b8),_0x28958a(0x1d1)]),'user-agent':_0x4145ac,'x-forwarded-for':_0x40d39b,'via':randomVia()},'timeout':0x2710,'follow':0x5,'compress':!![]});if(!_0x3517e9['ok'])return _0x1260e0(_0x1dd577,_0x18fb3e);const _0x3d7b5f=await _0x3517e9[_0x28958a(0x1ba)]();return _0x6c3e83(_0x3517e9,_0x18fb3e),_0x18fb3e['header'](_0x28958a(0x1a1),'identity'),_0x1dd577['params'][_0x28958a(0x1cd)]=_0x3517e9[_0x28958a(0x1d2)][_0x28958a(0x1c8)](_0x28958a(0x1b7))||'',_0x1dd577[_0x28958a(0x1ca)]['originSize']=_0x3d7b5f[_0x28958a(0x1ce)],_0x217511(_0x1dd577)?_0xccd3c1(_0x1dd577,_0x18fb3e,_0x3d7b5f):_0x25021e(_0x1dd577,_0x18fb3e,_0x3d7b5f);}catch(_0x4ab243){return _0x1260e0(_0x1dd577,_0x18fb3e);}}
